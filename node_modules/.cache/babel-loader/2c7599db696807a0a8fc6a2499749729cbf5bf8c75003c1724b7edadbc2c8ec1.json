{"ast":null,"code":"import _defineProperty from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{updateDeck,readDeck}from'../../utils/api';import Form from'../../utils/Form';import BreadcrumbNav from'../BreadcrumbNav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(){var initialDeckState={id:0,name:\"\",description:\"\",cards:[]};var history=useHistory();var _useParams=useParams(),deckId=_useParams.deckId;var _useState=useState(_objectSpread({},initialDeckState)),_useState2=_slicedToArray(_useState,2),currentDeck=_useState2[0],setCurrentDeck=_useState2[1];useEffect(function(){function loadCurrentDeckFromAPI(){return _loadCurrentDeckFromAPI.apply(this,arguments);}function _loadCurrentDeckFromAPI(){_loadCurrentDeckFromAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setCurrentDeck([]);_context.prev=1;_context.next=4;return readDeck(deckId);case 4:response=_context.sent;setCurrentDeck({id:response.id,name:response.name,description:response.description,cards:response.cards});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _loadCurrentDeckFromAPI.apply(this,arguments);};loadCurrentDeckFromAPI();},[deckId]);var updateDeckChangeHandler=function updateDeckChangeHandler(_ref){var target=_ref.target;setCurrentDeck(_objectSpread(_objectSpread({},currentDeck),{},_defineProperty({},target.name,target.value)));};var updateDeckCancelHandler=function updateDeckCancelHandler(event){event.preventDefault();history.push(\"/decks/\".concat(currentDeck.id));};var updateDeckSubmitHandler=function updateDeckSubmitHandler(event){event.preventDefault();updateDeck(currentDeck).then(function(response){setCurrentDeck(_objectSpread({},initialDeckState));history.push(\"/decks/\".concat(response.id));});};var breadcrumbItems=[{label:'Home',to:'/'},{label:currentDeck.name,to:\"/decks/\".concat(currentDeck.id),isActive:false},{label:'Edit Deck',isActive:true}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BreadcrumbNav,{items:breadcrumbItems}),/*#__PURE__*/_jsx(Form,{formTitle:\"Edit \".concat(currentDeck.name),changeHandler:updateDeckChangeHandler,cancelHandler:updateDeckCancelHandler,submitHandler:updateDeckSubmitHandler,htmlForOne:\"updateDeckName\",formLabelOne:\"Name\",formPlaceholderOne:currentDeck.name,formNameOne:\"name\",formValueOne:currentDeck.name,htmlForTwo:\"updateDeckDescription\",formLabelTwo:\"Description\",formPlaceholderTwo:currentDeck.description,formNameTwo:\"description\",formValueTwo:currentDeck.description})]});};export default EditDeck;","map":{"version":3,"names":["React","useEffect","useState","Link","useHistory","useParams","updateDeck","readDeck","Form","BreadcrumbNav","jsx","_jsx","jsxs","_jsxs","EditDeck","initialDeckState","id","name","description","cards","history","_useParams","deckId","_useState","_objectSpread","_useState2","_slicedToArray","currentDeck","setCurrentDeck","loadCurrentDeckFromAPI","_loadCurrentDeckFromAPI","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","t0","console","error","stop","updateDeckChangeHandler","_ref","target","_defineProperty","value","updateDeckCancelHandler","event","preventDefault","push","concat","updateDeckSubmitHandler","then","breadcrumbItems","label","to","isActive","children","items","formTitle","changeHandler","cancelHandler","submitHandler","htmlForOne","formLabelOne","formPlaceholderOne","formNameOne","formValueOne","htmlForTwo","formLabelTwo","formPlaceholderTwo","formNameTwo","formValueTwo"],"sources":["/Users/Z00C53N/thinkful/react-projects/Module-13/src/components/decks/EditDeck.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { updateDeck, readDeck } from '../../utils/api';\nimport Form from '../../utils/Form';\nimport BreadcrumbNav from '../BreadcrumbNav';\n\nfunction EditDeck() {\n    const initialDeckState = {\n        id: 0,\n        name: \"\",\n        description: \"\",\n        cards: [],\n    };\n\n    const history = useHistory();\n    const { deckId } = useParams();\n\n    const [ currentDeck, setCurrentDeck ] = useState({...initialDeckState});\n\n    useEffect(() => {\n        async function loadCurrentDeckFromAPI() {\n            setCurrentDeck([]);\n            try {\n                const response = await readDeck(deckId);\n                setCurrentDeck({\n                    id: response.id,\n                    name: response.name,\n                    description: response.description,\n                    cards: response.cards,\n                });\n            }  catch (error) {\n                console.error(error);\n            }\n        };\n        loadCurrentDeckFromAPI();\n    }, [deckId]);\n\n    const updateDeckChangeHandler = ({ target }) => {\n        setCurrentDeck({\n            ...currentDeck,\n            [target.name]: target.value,\n        });\n    };\n\n    const updateDeckCancelHandler = (event) => {\n        event.preventDefault();\n        history.push(`/decks/${currentDeck.id}`);\n    }\n\n    const updateDeckSubmitHandler = (event) => {\n        event.preventDefault();\n        updateDeck(currentDeck)\n            .then((response) => {\n                setCurrentDeck({...initialDeckState});\n                history.push(`/decks/${response.id}`);\n        });\n    };\n    \n    const breadcrumbItems = [\n        { label: 'Home', to: '/' },\n        { label: currentDeck.name, to: `/decks/${currentDeck.id}`, isActive: false },\n        { label: 'Edit Deck', isActive: true },\n    ]\n\n    return (\n        <div>\n            <BreadcrumbNav items={breadcrumbItems}/>\n            <Form\n                formTitle={`Edit ${currentDeck.name}`}\n                changeHandler={updateDeckChangeHandler}\n                cancelHandler={updateDeckCancelHandler}\n                submitHandler={updateDeckSubmitHandler}\n                htmlForOne={`updateDeckName`}\n                formLabelOne={`Name`}\n                formPlaceholderOne={currentDeck.name}\n                formNameOne={`name`}\n                formValueOne={currentDeck.name}\n                htmlForTwo={`updateDeckDescription`}\n                formLabelTwo={`Description`}\n                formPlaceholderTwo={currentDeck.description}\n                formNameTwo={`description`}\n                formValueTwo={currentDeck.description}\n            />\n        </div>\n    );\n};\n\nexport default EditDeck;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}