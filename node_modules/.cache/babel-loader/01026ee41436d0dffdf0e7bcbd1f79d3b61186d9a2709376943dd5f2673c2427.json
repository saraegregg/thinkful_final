{"ast":null,"code":"import _defineProperty from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Z00C53N/thinkful/react-projects/Module-13/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useHistory,useParams}from'react-router-dom';import{createCard,readDeck}from'../../utils/api';import BreadcrumbNav from'../BreadcrumbNav';import Form from'../../utils/Form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateCard(){var initialCardState={front:\"\",back:\"\",deckId:0};var initialDeckState={id:0,name:\"\",description:\"\",cards:[]};var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useState=useState(_objectSpread({},initialCardState)),_useState2=_slicedToArray(_useState,2),currentCard=_useState2[0],setCurrentCard=_useState2[1];var _useState3=useState(_objectSpread({},initialDeckState)),_useState4=_slicedToArray(_useState3,2),currentDeck=_useState4[0],setCurrentDeck=_useState4[1];useEffect(function(){function loadCurrentDeckFromAPI(){return _loadCurrentDeckFromAPI.apply(this,arguments);}function _loadCurrentDeckFromAPI(){_loadCurrentDeckFromAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:response=_context.sent;setCurrentDeck(response);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _loadCurrentDeckFromAPI.apply(this,arguments);};loadCurrentDeckFromAPI();},[deckId]);var createCardChangeHandler=function createCardChangeHandler(_ref){var target=_ref.target;setCurrentCard(_objectSpread(_objectSpread({},currentCard),{},_defineProperty({},target.name,target.value)));};var createCardCancelHandler=function createCardCancelHandler(event){event.preventDefault();history.push(\"/decks/\".concat(deckId));};var createCardSubmitHandler=function createCardSubmitHandler(event){event.preventDefault();createCard(deckId,currentCard).then(function(){setCurrentCard(_objectSpread({},initialCardState));history.push(\"/decks/\".concat(deckId));});};var breadcrumbItems=[{label:'Home',to:'/'},{label:currentDeck.name,to:\"/decks/\".concat(currentDeck.id),isActive:false},{label:'Add Card',isActive:true}];if(currentDeck){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BreadcrumbNav,{items:breadcrumbItems}),/*#__PURE__*/_jsx(Form,{formTitle:\"\".concat(currentDeck.name,\" Add Card\"),changeHandler:createCardChangeHandler,cancelHandler:createCardCancelHandler,submitHandler:createCardSubmitHandler,htmlForOne:\"createCardFront\",formLabelOne:\"Front\",formPlaceholderOne:\"Front side of card\",formNameOne:\"front\",htmlForTwo:\"createCardBack\",formLabelTwo:\"Back\",formPlaceholderTwo:\"Back side of card\",formNameTwo:\"back\"})]});};return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});};export default CreateCard;","map":{"version":3,"names":["React","useEffect","useState","useHistory","useParams","createCard","readDeck","BreadcrumbNav","Form","jsx","_jsx","jsxs","_jsxs","CreateCard","initialCardState","front","back","deckId","initialDeckState","id","name","description","cards","_useParams","history","_useState","_objectSpread","_useState2","_slicedToArray","currentCard","setCurrentCard","_useState3","_useState4","currentDeck","setCurrentDeck","loadCurrentDeckFromAPI","_loadCurrentDeckFromAPI","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","t0","console","error","stop","createCardChangeHandler","_ref","target","_defineProperty","value","createCardCancelHandler","event","preventDefault","push","concat","createCardSubmitHandler","then","breadcrumbItems","label","to","isActive","children","items","formTitle","changeHandler","cancelHandler","submitHandler","htmlForOne","formLabelOne","formPlaceholderOne","formNameOne","htmlForTwo","formLabelTwo","formPlaceholderTwo","formNameTwo"],"sources":["/Users/Z00C53N/thinkful/react-projects/Module-13/src/components/cards/CreateCard.js"],"sourcesContent":["import React, {useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { createCard, readDeck } from '../../utils/api';\nimport BreadcrumbNav from '../BreadcrumbNav';\nimport Form from '../../utils/Form';\n\nfunction CreateCard(){\n    const initialCardState = {\n        front: \"\",\n        back: \"\",\n        deckId: 0,\n    };\n\n    const initialDeckState = {\n        id: 0,\n        name: \"\",\n        description: \"\",\n        cards: [],\n    };\n\n    const { deckId } = useParams();\n    const history = useHistory();\n\n    const [ currentCard, setCurrentCard ] = useState({...initialCardState});\n    const [currentDeck, setCurrentDeck] = useState({...initialDeckState});\n    \n    useEffect(() => {\n        async function loadCurrentDeckFromAPI() {\n            try {\n                const response = await readDeck(deckId);\n                setCurrentDeck(response);\n            } catch (error) {\n                console.error(error);\n            }\n        };\n        loadCurrentDeckFromAPI();\n    }, [deckId]);\n\n    const createCardChangeHandler = ({ target }) => {\n        setCurrentCard({\n            ...currentCard,\n            [target.name]: target.value,\n        });\n    };\n\n    const createCardCancelHandler = (event) => {\n        event.preventDefault();\n        history.push(`/decks/${deckId}`)\n    };\n\n    const createCardSubmitHandler = (event) => {\n        event.preventDefault();\n        createCard(deckId, currentCard)\n        .then(() => {\n            setCurrentCard({...initialCardState});\n            history.push(`/decks/${deckId}`);\n        });\n    };\n\n    const breadcrumbItems = [\n        {label: 'Home', to: '/'},\n        {label: currentDeck.name, to:`/decks/${currentDeck.id}`, isActive: false},\n        {label: 'Add Card', isActive: true}\n    ]\n\n\n    if (currentDeck) {\n        return (\n            <div>\n                <BreadcrumbNav items={breadcrumbItems} />\n                <Form\n                    formTitle={`${currentDeck.name} Add Card`}\n                    changeHandler={createCardChangeHandler}\n                    cancelHandler={createCardCancelHandler}\n                    submitHandler={createCardSubmitHandler}\n                    htmlForOne={`createCardFront`}\n                    formLabelOne={`Front`}\n                    formPlaceholderOne={`Front side of card`}\n                    formNameOne={`front`}\n                    htmlForTwo={`createCardBack`}\n                    formLabelTwo={`Back`}\n                    formPlaceholderTwo={`Back side of card`}\n                    formNameTwo={`back`}\n                />\n            </div>\n        );\n    };\n    return <p>Loading...</p>\n};\n\nexport default CreateCard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}